## What is Core concepts

java == 객체 지향 언어

스프링은 객체 지향 언어의 강력한 특징을 살려주는 프레임워크, 좋은 객체 지향 애플리케이션을 개발할 수 있게 도와주는 프레임워크 > 다형성을 극대화해서 이용할 수 있게 도와준다.

스프링의 IoC, DI는 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원한다.

객체 지향 프로그래밍이란?

- 객체 지향 프로그래밍은 컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나 여러 개의 독립된 단위, 즉 “객체”들의 모임으로 파악하고자 하는 것이다.  각각의 객체는 메시지를 주고받고, 데이터를 처리할 수 있다. (협력)
- 객체 지향 프로그래밍은 프로그램을 유연하고 변경이 용이하게 만들기 때문에 대규모 소프트웨어 개발에 많이 사용된다.

## 다형성 < 객체 지향의 꽃!

**역할**과 **구현**으로 구분한다.

- 클라이언트는 대상의 역할(인터페이스)만 알면 된다.
- 클라이언트는 구현 대상의 내부 구조를 몰라도 된다.
- 클라이언트는 구현 대상의 내부 구조가 변경되어도 영향을 받지 않는다.(interface 에서 method만 참조)
- 클라이언트는 구현 대상 자체를 변경해도 영향을 받지 않는다.

혼자 있는 객체는 없다. 클라 : 요청, 서버 : 응답 (클라와 서버는 서로 협력 관계)

구현하기 전에, 역할(인터페이스)을 먼저 부여!!
역할과 구현을 명확히 분리해야 객체 지향적 프로그래밍!

오버라이딩 된 메서드가 실행되기 떄문에 이를 통해 유연한 변경을 실현. (클래스 상속 관계 또한 실현 가능)

다형성이란?

- 인터페이스를 구현한 객체 인스턴스를 실행 시점에 유연하게 변경 가능
- 다형성은 협력이라는 객체 사이의 관계에서 시작해야 한다.
- 클라이언트 변경 없이 서버의 구현 기능을 유연하게 변경 가능
- 확장 가능한 설계 (그만큼 인터페이스 설계가 중요하다.)
- 인터페이스가 변하면, 클라, 서버 모두 큰 변경 발생
- 객체 지향의 핵심은 다형성, 하지만 이 한 가지만으로는 OCP, DIP를 지킬 수 없다.

## SOLID

[Single Responsibility Principle 단일 책임 원칙]()

[Open / Closed Principle 개방 폐쇄 원칙]()

[Liskov Substitution Principle 리스코프 치환 원칙]()

[Interface Segregation Principle 인터페이스 분리 원칙]()

[Dependency Inversion Principle 의존관계 역전 원칙]()


## Spring이 다형성 + OCP, DIP를 지원하는 방법

DI : 의존관계, 의존성 주입

DI 컨테이너 제공

클라 코드 변경 없이 기능 확장

순수한 자바로 OCP, DIP 원칙을 지키다보면, 스프링 프레임워크를 만들게 된다. (정확히는 DI 컨테이너)

포인트 : 모든 설계에 역할과 구현을 분리하자. 그렇다고 인터페이스를 무작정 넣는건 좋은 것이 아니다. 이는 추상화 라는 비용이 발생하는 원인. 확장할 가능성이 없다면, 구체 클래스를 직접 사용하고 향후에 필요하다면 리팩터링을 통해 인터페이스 도입.

## 의존관계 주입 DI(Dependency Injection)

OrderServiceImpl은 DiscountPolicy 인터페이스에 의존한다. 실제 어떤 구현 객체가 사용될지는 모른다.

의존관계는 정적인 클래스 의존 관계와, 실행 시점에 결정되는 동적인 객체(인스턴스) 의존 관계 둘을 분리해서 생각해야 한다.

### 정적인 클래스 의존관계
> 클래스가 사용하는 import 코드만 보고 의존관계를 쉽게 판단할 수 있다. 정적인 의존관계는 애플리케이션을 실행하지 않아도 분석할 수 있다. 클래스 다이어그램을 보자.
> OrderServiceImpl은 MemberRepository, DiscountPolicy에 의존한다는 것을 알 수 있다. 그런데 이러한 클래스 의존관계 만으로는 실제 어떤 객체가 OrderServiceImpl에 주입 될지 알 수 없다



### 동적인 객체 인스턴스 의존관계
> 애플리케이션 실행 시점에 실제 생성된 객체 인스턴스이 참조가 연결된 의존 관계이다.
> 애플리케이션 **실행 시점(런타임)**에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 실제 의존관계가 연결 되는 것을 **의존관계 주입(DI)**이라 한다.
> 객체 인스턴스를 생성하고, 그 참조값을 전달해서 연결된다.
> 의존관계 주입을 사용하면 클라이언트 코드를 변경하지 않고, 클라이언트가 호출하는 대상의 타입 인스턴스를 변경할 수 있다.
> 의존관계 주입을 사용하면 정적인 클래스 의존관계(Service, Repository, Policy등의 클라이언트, 인터페이스, 추상 클래스 등)를 변경하지 않고, 동적인 객체 인스턴스 의존관계(구현 클래스)를 쉽게 변경할 수 있다.

---

- IoC 컨테이너, DI 컨테이너

AppConfig 처럼 객체를 생성하고 관리하면서 의존관계를 연결해 주는 것을 IoC 컨테이너 또는 **DI 컨테이너**라 한다.

의존 관계 주입에 초점을 맞추어 최근에는 주로 DI 컨테이너라 부른다. 또는 어셈블러, 오브젝트 팩토리 등으로 불리기도 한다.
